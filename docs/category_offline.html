<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HEBench: Offline Category</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HEBench
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('category_offline.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Offline Category </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md9">Category Flag</a></li>
<li class="level1"><a href="#autotoc_md10">Category Parameters</a></li>
<li class="level1"><a href="#autotoc_md11">Description</a></li>
<li class="level1"><a href="#autotoc_md12">Ordering of Results</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_docsrc_categories_cat_offline"></a></p>
<p>Offline is one of the HEBench supported benchmarking categories.</p>
<p>See the complete <a class="el" href="category_overview.html">list of benchmarking categories</a> for other options.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Category Flag</h1>
<div class="fragment"><div class="line"><a class="code" href="namespacehebench.html">hebench</a>:<a class="code" href="namespacehebench_1_1APIBridge.html#a342c85b5dfa15ef7f8189791d1931653adc6bcebb0fd84672c6ece08d096e774c">APIBridge::Category::Offline</a></div>
<div class="ttc" id="anamespacehebench_1_1APIBridge_html_a342c85b5dfa15ef7f8189791d1931653adc6bcebb0fd84672c6ece08d096e774c"><div class="ttname"><a href="namespacehebench_1_1APIBridge.html#a342c85b5dfa15ef7f8189791d1931653adc6bcebb0fd84672c6ece08d096e774c">hebench::APIBridge::Offline</a></div><div class="ttdeci">@ Offline</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00399">types.h:398</a></div></div>
<div class="ttc" id="anamespacehebench_html"><div class="ttname"><a href="namespacehebench.html">hebench</a></div><div class="ttdef"><b>Definition:</b> <a href="hebench__benchmark__category_8h_source.html#l00018">hebench_benchmark_category.h:18</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Category Parameters</h1>
<ul>
<li><code>std::uint64_t min_test_time_ms</code>: supported by all categories. Specifies the minimum time, in milliseconds, to run the test.</li>
<li><code>std::uint64_t data_count[HEBENCH_MAX_OP_PARAMS]</code> Specifies a hard value for the number of data samples for each input parameter to the workload operation.</li>
</ul>
<p>Note that a backend implementation that sets any field in <code>CategoryParams</code> to <code>0</code> or <code>null</code> values (as corresponding to the field data type) is indicating that it accepts any valid value in the supported range for said field (according to the valid ranges as specified in the documentation for each field). In this case, these values are user-configurable using Test Harness features such as <a class="el" href="config_file_reference.html">benchmark configuration files</a>.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Description</h1>
<p>The Offline benchmarking category measures throughput (samples per second) that a workload implementation can perform on a single batch of data. This is how fast the backend can process all the input, given all the data at once.</p>
<p>During offline test, Test Harness passes all the input samples (the complete dataset) to the backend for the backend implementation to encode as necessary to take full advantage of optimization techniques. When testing, the complete dataset is requested to be loaded through a call to <code><a class="el" href="namespacehebench_1_1APIBridge.html#ac4d8486aa63649beac1378e8fa8baf3c" title="Loads the specified data from the local host into the remote backend to use as parameter during a cal...">hebench::APIBridge::load()</a></code> in an attempt to give a chance to the backend implementation to isolate loading times from operation times. Once loaded, Test Harness will issue calls to <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">hebench::APIBridge::operate()</a></code>. Calls will occur until the test time specified during benchmark configuration has elapsed (at least one call will always occur). For every call, the same input handle for the dataset as returned by <code><a class="el" href="namespacehebench_1_1APIBridge.html#ac4d8486aa63649beac1378e8fa8baf3c" title="Loads the specified data from the local host into the remote backend to use as parameter during a cal...">load()</a></code> is used; therefore, the backend should create a copy of the inputs before operating when the implementation modifies or destructs the values in the input. The objective is for Test Harness to measure how fast can the implementation operate on bulk data. The repetition is intended to collect statistically significant results.</p>
<p>To correctly measure throughput, the rules are similar as those described for a latency test. The implementation of the backend <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">hebench::APIBridge::operate()</a></code> function should not cache results of previous calls, intermediate, final, or any other kind. This is, results must be computed every time, regardless of whether the input samples are the same as inputs from previous calls. The backend implementation must make sure that the operation actually starts running when the <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a></code> function is called, not when the <code><a class="el" href="namespacehebench_1_1APIBridge.html#ac4d8486aa63649beac1378e8fa8baf3c" title="Loads the specified data from the local host into the remote backend to use as parameter during a cal...">hebench::APIBridge::load()</a></code> function completes. Function <code><a class="el" href="namespacehebench_1_1APIBridge.html#a5696b351ec3db4f7f3bc28dfb4ef77f4" title="Retrieves the specified data from the backend.">hebench::APIBridge::store()</a></code> is provided to retrieve the results of the operation; however, the backend implementation must also ensure that <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a></code> does not return until the operation completes and results are ready to be retrieved, not before. For example, if the operation will execute asynchronously, it should start only when <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a></code> function is called, and the implementation of <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a></code> should block until the asynchronous operation completes.</p>
<p>A backend implementation must keep results alive from every call to <code><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a></code> as long as the corresponding result handle has not been destroyed (through a call to <code><a class="el" href="namespacehebench_1_1APIBridge.html#a22e7a6604d6a62b1e77ee6c17d4ff77b" title="Releases resources held by the specified handle.">hebench::APIBridge::destroyHandle()</a></code> ).</p>
<p>Warmup iterations are not available for offline tests.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Ordering of Results</h1>
<p>Many workloads in HEBench require more than one input parameter. Element-wise Vector Addition, for example, requires two input parameters (the two vectors to add).</p>
<p>When testing the throughput of a workload that requires more than one input parameter in the offline category, Test Harness may pass a collection of samples for each component. A backend that implements offline testing should be aware of how the component input samples are organized to form an input sample so that it can organize the results correctly for validation.</p>
<p>The following is the result ordering reference with respect to input batches as defined for HEBench:</p>
<p><a class="el" href="results_order.html">Ordering of Results Based on Input Batch Sizes</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
