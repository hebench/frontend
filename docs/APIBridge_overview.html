<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HEBench: API Bridge overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HEBench
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('APIBridge_overview.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">API Bridge overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">High-level design and architecture overview</a></li>
<li class="level1"><a href="#autotoc_md1">Namespace</a></li>
<li class="level1"><a href="#autotoc_md2">API Bridge Function Details</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_docsrc_APIBridge_overview"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
High-level design and architecture overview</h1>
<p>The API Bridge is the common interface that backends need to expose. It consists of a set of C headers that declare the C API which is used by the test harness to execute workloads implemented by backends.</p>
<p>Backends are expected to implement all the functions defined in the API Bridge. While it has been designed to offer flexibility, the C API can lead to a good amount of boilerplate code. The <a class="el" href="CPP_overview.html">C++ wrapper</a> is an alternative provided as a shurtcut, intended to hide many required details.</p>
<p>This page provides details on the design and internal implementation of the API. In addition it provides additional information for the key functions that backends are required to impliment as part of the C API Bridge.</p>
<h3>API Bridge Versioning General Guidelines</h3>
<p>When creating a backend, users must be mindful of the version of API Bridge being used for compatibility purposes. In general, a backend should be able to use any version of API Bridge that is backwards compatible with the required major and minor.</p>
<p>Not backwards compatible:</p><ul>
<li><code>major</code>: Reflects major changes in syntax or drastic changes in semantics. Reserved for new API version.</li>
<li><code>minor</code>: Reflects changes on semantics and/or minor syntax changes.</li>
</ul>
<p>Backwards compatible:</p><ul>
<li><code>revision</code>: Reflects changes that do not affect overall existing functionality, including additions, extensions, optimizations, bug fixes, etc.</li>
<li><code>build</code>: Reflects the build type, such as development, debug, release, versioned release, different compilation flags, etc. It should not represent any changes to the API Bridge interface.</li>
</ul>
<p>API Bridge version is stored in the <code>VERSION</code> file at the root of the API Bridge repository in the following format:</p>
<div class="fragment"><div class="line">v</div>
<div class="line">&lt;major&gt;</div>
<div class="line">&lt;minor&gt;</div>
<div class="line">&lt;revision&gt;</div>
<div class="line">&lt;build&gt;</div>
</div><!-- fragment --><p>and it is to be interpreted as <code>v.&lt;major&gt;.&lt;minor&gt;.&lt;revision&gt;-&lt;build&gt;</code>. During CMake processing, file <code>hebench/api_bridge/version.h</code> is generated containing the definition for the corresponding version constants as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define HEBENCH_API_VERSION_MAJOR</span></div>
<div class="line"><span class="preprocessor">#define HEBENCH_API_VERSION_MINOR</span></div>
<div class="line"><span class="preprocessor">#define HEBENCH_API_VERSION_REVISION</span></div>
<div class="line"><span class="preprocessor">#define HEBENCH_API_VERSION_BUILD</span></div>
</div><!-- fragment --><p>A backend can use these constants to determine the API Bridge version in use.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Namespace</h1>
<ul>
<li>Complete reference to API Bridge: <a class="el" href="namespacehebench_1_1APIBridge.html">hebench::APIBridge</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
API Bridge Function Details</h1>
<p>Communication between the Test Harness and a backend occurs through opaque handles as defined by <code><a class="el" href="namespacehebench_1_1APIBridge.html#a1cc432e69cd60c216161fae560d8a6f4" title="Encapsulates an opaque handle to backend data.">hebench::APIBridge::Handle</a></code>. A backend will store information it requires in an opaque handle and returns it to the Test Harness via the API Bridge. The Test Harness will use the corresponding handle when requesting backend to operate on it. These handles expose a <code>tag</code> field that backends can use to identify the content of the handle at run-time.</p>
<p>The API Bridge defines the following set of functions for the main pipeline flow which backends are required to implement. For the complete function pipeline flow, see <a class="el" href="function_pipeline_chart.html">API Bridge Function Pipeline Chart</a> .</p>
<p>Note that there are other required functions that deal with initialization, termination, cleanup, error handling, and polling of the backend. See the complete reference for full details.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Short description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#a4fc50bea04798d1baf8dbad8359f8f10">Encode</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_encode_diagram.png" alt="" width="600" class="inline"/> </div> Given a pack of parameters in raw, native data format, encodes them into plain text suitable for backend encryption or operation.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#ad42002b907afda2357a5c28406b30bf5">Decode</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_decode_diagram.png" alt="" width="600" class="inline"/> </div> Decodes plaintext data into the appropriate raw, native format.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#a0487699ebe2558d978890e5effd1e016">Encrypt</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_encrypt_diagram.png" alt="" width="600" class="inline"/> </div> Encrypts a plain text into a cipher text.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#a563432d24c94d7b3fdb902a9d2c1e1c3">Decrypt</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_decrypt_diagram.png" alt="" width="600" class="inline"/> </div> Decrypts a cipher text into corresponding plain text.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#ac4d8486aa63649beac1378e8fa8baf3c">Load</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_load_diagram.png" alt="" width="600" class="inline"/> </div> Loads the specified data from the local host into the remote backend to use as parameter during a call to <a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0" title="Performs the workload operation of the benchmark.">operate()</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#a5696b351ec3db4f7f3bc28dfb4ef77f4">Store</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_store_diagram.png" alt="" width="600" class="inline"/> </div> Retrieves the specified data from the backend.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="namespacehebench_1_1APIBridge.html#a3d07f6b56035cea3fad6fd7005b22de0">Operate</a>   </td><td class="markdownTableBodyNone"><div align="left"><img src="apibridge_operate_diagram.png" alt="" width="600" class="inline"/> </div> Performs the workload operation of the benchmark.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
